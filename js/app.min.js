(() => {
  "use strict";
  var e, t;
  !(function () {
    let e = document.querySelectorAll(".ibg");
    for (var t = 0; t < e.length; t++)
      e[t].querySelector("img") &&
        (e[t].style.backgroundImage =
          "url(" + e[t].querySelector("img").getAttribute("src") + ")");
  })(),
    (e = function (e) {
      1 == e
        ? document.querySelector("body").classList.add("webp")
        : document.querySelector("body").classList.add("no-webp");
    }),
    ((t = new Image()).onload = t.onerror =
      function () {
        e(2 == t.height);
      }),
    (t.src =
      "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"),
    new IntersectionObserver(e => {
      e.forEach(e => {
        const t = e.target.querySelector(".first-page__img_2"),
          i = e.target.querySelector(".first-page__img_3");
        if (e.isIntersecting)
          return (
            t.classList.add("first-page__img_2_anim"),
            void i.classList.add("first-page__img_3_anim")
          );
        t.classList.remove("first-page__img_2_anim"),
          i.classList.remove("first-page__img_3_anim");
      });
    }).observe(document.querySelector(".first-page__col")),
    new IntersectionObserver(e => {
      e.forEach(e => {
        const t = e.target.querySelector(".innovations__green1"),
          i = e.target.querySelector(".innovations__green2"),
          s = e.target.querySelector(".innovations__green3");
        if (e.isIntersecting)
          return (
            t.classList.add("innovations__green_anim"),
            i.classList.add("innovations__green_anim"),
            void s.classList.add("innovations__green_anim")
          );
        t.classList.remove("innovations__green_anim"),
          i.classList.remove("innovations__green_anim"),
          s.classList.remove("innovations__green_anim");
      });
    }).observe(document.querySelector(".img-wrapper")),
    new IntersectionObserver(e => {
      e.forEach(e => {
        const t = e.target.querySelector(".benefits__item_blue1"),
          i = e.target.querySelector(".benefits__item_blue2"),
          s = e.target.querySelector(".benefits__item_blue3");
        if (e.isIntersecting)
          return (
            t.classList.add("benefits__item_blue1_anim"),
            i.classList.add("benefits__item_blue2_anim"),
            void s.classList.add("benefits__item_blue3_anim")
          );
        t.classList.remove("benefits__item_blue1_anim"),
          i.classList.remove("benefits__item_blue2_anim"),
          s.classList.remove("benefits__item_blue3_anim");
      });
    }).observe(document.querySelector(".benefits__row"));
})();

const animationsSlider = () => {
  const wrapper = document.querySelector(".easy2");
  const arr = wrapper.querySelectorAll(".my-slider-item");
  const arr3 = wrapper.querySelectorAll(".easy__bullet");
  const arr2 = wrapper.querySelectorAll(".easy__info-s-item");
  let current = 0;

  arr2.forEach(item => {
    item.classList.remove("easy__info-item_active");
  });

  arr3.forEach(item => {
    item.classList.remove("easy__bullet_active");
  });

  arr.forEach(item => {
    if (item.classList.contains("slick-current")) {
      current = item.getAttribute("data-slick-index");
    }
  });

  arr2[current].classList.add("easy__info-item_active");
  if (arr3.length < 15) {
    arr3[Number(current) + 2].classList.add("easy__bullet_active");
  } else arr3[Number(current) + 4].classList.add("easy__bullet_active");
};

$(document).ready(function () {
  $(".my-slider").slick({
    centerMode: true,
    focusOnSelect: true,
    slidesToShow: 3,
    slidesToScroll: 1,
    arrows: false,
    responsive: [
      {
        breakpoint: 768,
        settings: {
          slidesToShow: 1,
          slidesToScroll: 1,
        },
      },
    ],
  });
  animationsSlider();
});

$(".my-slider").on("afterChange", function () {
  animationsSlider();
});

const animationsCirc = () => {
  const wrapper = document.querySelector(".easy1");
  const arr = wrapper.querySelectorAll(".easy__bullet");
  const arr2 = wrapper.querySelectorAll(".easy__info-item");
  arr.forEach((item, index) => {
    item.addEventListener("mouseover", () => {
      arr.forEach(elem => elem.classList.remove("easy__bullet_active"));
      arr2.forEach(elem => elem.classList.remove("easy__info-item_active"));
      item.classList.add("easy__bullet_active");
      arr2[index].classList.add("easy__info-item_active");
    });
  });
};
animationsCirc();
